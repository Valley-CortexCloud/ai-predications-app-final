{
  "best_params": {
    "learning_rate": 0.014445392143954981,
    "n_estimators": 13000,
    "num_leaves": 222,
    "max_depth": 8,
    "min_data_in_leaf": 269,
    "min_gain_to_split": 0.0010531388780496455,
    "feature_fraction": 0.5634675306118386,
    "bagging_fraction": 0.6631276287086004,
    "reg_alpha": 0.5119015009964473,
    "reg_lambda": 6.902168918769338,
    "min_child_weight": 0.21360481669060843,
    "seed": 42
  },
  "tuning_val_metrics": {
    "n_groups": 323,
    "topk_mean_excess": 0.11864935763525297,
    "topk_hit_rate": 0.6402476780185758
  },
  "final_val_metrics": {
    "n_groups": 323,
    "topk_mean_excess": 0.18949368547978207,
    "topk_hit_rate": 0.7312693498452012
  },
  "test_metrics": {
    "n_groups": 408,
    "topk_mean_excess": 0.03426335873696066,
    "topk_hit_rate": 0.49264705882352944
  },
  "features": [
    "feat_low_vol_raw",
    "feat_parkinson_20",
    "feat_parkinson_20_rank_pct",
    "feat_ema_50",
    "feat_vpt",
    "feat_ema_10",
    "feat_sma_10",
    "feat_garman_klass_20_rank_pct",
    "feat_atr_14",
    "feat_sma_50",
    "feat_idio_vol_63",
    "feat_vol_mom_interaction",
    "feat_earn_surprise_streak",
    "feat_prev_earn_surprise_pct",
    "feat_avg_volume_20",
    "feat_cmf_20",
    "feat_obv",
    "adv20_dollar_rank_pct",
    "feat_garman_klass_20",
    "feat_ret_252d",
    "feat_idio_vol_63_rank_pct",
    "feat_earnings_quality",
    "feat_mom_12m_skip1m_rank_pct",
    "feat_bb_upper",
    "feat_log_ret_252d",
    "feat_atr_norm",
    "feat_beta_spy_252",
    "feat_liquid_momentum",
    "feat_bb_lower",
    "adv20_dollar_zscore_xsec",
    "feat_avg_volume_20_rank_pct",
    "feat_idio_vol_low_beta",
    "feat_ret_126d",
    "feat_ret_63d_rank_pct",
    "feat_beta_rates_63",
    "feat_in_uptrend",
    "feat_beta_spy_252_rank_pct",
    "feat_defensive_score",
    "feat_atr_norm_rank_pct",
    "feat_ma_cross_strength",
    "feat_sharpe_adj_mom63",
    "feat_composite_quality",
    "feat_beta_spy_126_rank_pct",
    "feat_risk_adj_mom12m",
    "feat_overnight_ret",
    "feat_pct_to_52w_high",
    "feat_beta_spy_126",
    "feat_upside_quality",
    "feat_beta_spy_126_zscore_xsec",
    "feat_pct_in_52w_range",
    "feat_sector_rel_ret_63d",
    "feat_log_ret_63d",
    "feat_days_since_earn",
    "feat_plus_di_14",
    "feat_mom_12m_skip1m_zscore_xsec",
    "feat_volatility_20_rank_pct",
    "feat_gap_size",
    "feat_vol_expansion",
    "feat_minus_di_14",
    "feat_ret_63d_zscore_xsec",
    "feat_mom_12m_skip1m",
    "feat_sector_rel_ret_63d_rank_pct",
    "feat_donchian_pct_55",
    "feat_sharpe_mom_idio",
    "feat_ret_63d",
    "feat_gap_size_atr",
    "feat_mom_consistency_63",
    "feat_macd_signal",
    "feat_downside_vol_20",
    "feat_intraday_ret",
    "feat_adx_14",
    "feat_bb_width",
    "feat_up_day_frac_63",
    "feat_resid_ret_63d",
    "feat_macd",
    "feat_days_to_earn",
    "feat_trend_r2_63d",
    "feat_rogers_satchell_20",
    "feat_volatility_20_zscore_xsec",
    "feat_consec_down_max_21",
    "feat_consec_up_max_21",
    "feat_volatility_20",
    "feat_ret_21d",
    "feat_new_high_streak_5d",
    "feat_donchian_pct_20",
    "feat_resid_ret_21d",
    "feat_price_vs_vwap_21d",
    "feat_williams_r",
    "feat_stoch_d",
    "feat_rsi",
    "feat_up_day_frac_21",
    "feat_momentum_10",
    "feat_rsi_rank_pct",
    "feat_roc_10",
    "feat_beta_in_high_vol",
    "feat_zscore_dm20",
    "feat_stoch_k",
    "feat_volume_acceleration",
    "feat_mfi_14",
    "feat_low_beta_in_high_vol",
    "feat_ret_5d",
    "feat_rvol_20",
    "feat_sector_z_63d",
    "feat_rvol_z_60",
    "feat_vix_level_z_63",
    "feat_vix_delta_21d",
    "feat_high_vol_regime",
    "feat_is_preearn_3",
    "feat_rsi2",
    "feat_is_postearn_3",
    "feat_breakout_55d",
    "feat_gap_volume_signal",
    "feat_mom_accel_21d",
    "feat_breakout_20d",
    "feat_mom_convexity",
    "feat_is_postearn_10",
    "feat_ret_1d"
  ],
  "label_col": "label_rel_grade",
  "label_gain": [
    0.0,
    1.0,
    2.0,
    4.0,
    8.0,
    16.0,
    32.0
  ],
  "topk": 10,
  "splits": {
    "val_frac": 0.15,
    "test_frac": 0.15,
    "purge_days": 63
  },
  "preprocessing": {
    "xsec_z": true,
    "winsor": true,
    "winsor_q": 0.01
  },
  "vix_filter": {
    "enabled": true,
    "threshold": 1.5
  },
  "final_no_es": false,
  "num_trees": 97,
  "n_estimators": 13000
}
